{"version":3,"sources":["webpack:///./src/assets/fuego.jpg","webpack:///./src/pages/convolutionMask.js","webpack:///./src/algorithms/convolution/kernels.js","webpack:///./src/algorithms/convolution/convolution.js"],"names":["module","exports","img","props","window","Sketch","loadable","className","setup","p5","canvasParentRef","createCanvas","parent","resizeCanvas","clientWidth","noLoop","draw","background","loadPixels","image","width","height","convolution","EdgeDetectionKernel","BoxBlurKernel","SharpenKernel","preload","loadImage","fuego","kernelProduct","x","y","kernel","red_channel","green_channel","blue_channel","i","j","loc","pixels","parseInt","copyImg","createImage","convol_rgb","alpha","updatePixels"],"mappings":"gFAAAA,EAAOC,QAAU,IAA0B,qD,kCCA3C,+BASIC,EATJ,qEAUe,mBAACC,GAwBd,GAAsB,oBAAXC,OAAwB,CACjC,IAAMC,EAASC,aAAS,kBAAM,8DAC9B,OACE,mBAAKC,UAAU,kBACb,iDACA,kBAAIA,UAAU,SACd,iBAAGA,UAAU,QAAb,waAIA,YAACF,EAAD,CAAQG,MA7BA,SAACC,EAAIC,GACRD,EAAGE,aAAa,IAAK,KACvBC,OAAOF,GACdD,EAAGI,aAAaH,EAAgBI,YAAa,KAA4C,GACzFL,EAAGM,UAyBuBC,KAtBf,SAACP,GACZA,EAAGQ,WAAW,GACdf,EAAIgB,aACJT,EAAGU,MAAMjB,EAAI,EAAE,EAAGO,EAAGW,MAAM,EAAGX,EAAGY,OAAO,GACxCZ,EAAGU,MAAMG,YAAYb,EAAIP,EAAKqB,KAAqBd,EAAGW,MAAM,EAAE,EAAGX,EAAGW,MAAM,EAAGX,EAAGY,OAAO,GACvFZ,EAAGU,MAAMG,YAAYb,EAAIP,EAAKsB,KAAe,EAAEf,EAAGY,OAAO,EAAGZ,EAAGW,MAAM,EAAGX,EAAGY,OAAO,GAClFZ,EAAGU,MAAMG,YAAYb,EAAIP,EAAKuB,KAAehB,EAAGW,MAAM,EAAEX,EAAGY,OAAO,EAAGZ,EAAGW,MAAM,EAAGX,EAAGY,OAAO,IAgBrDK,QAjCxB,SAACjB,GACfP,EAAMO,EAAGkB,UAAUC,SAoCnB,OAAO,O,oCChDX,0GAGaJ,EAAgB,CAAC,CAHjB,EAAM,EAAN,EAAM,EAAN,EAAM,GAGiC,CAHvC,EAAM,EAAN,EAAM,EAAN,EAAM,GAGuD,CAH7D,EAAM,EAAN,EAAM,EAAN,EAAM,IAKNC,EAAgB,CAAC,CAAC,GAAI,EAAG,GAAG,EAAE,EAAG,GAAI,GAAG,CAAC,GAAG,EAAE,IAC9CF,EAAsB,CAAC,EAAE,GAAI,GAAK,GAAG,EAAE,EAAG,GAAI,GAAG,EAAE,GAAI,GAAI,K,kCCcxE,SAASM,EAAc3B,EAAK4B,EAAGC,EAAGC,GAI9B,IAHA,IAAIC,EAAc,EACdC,EAAgB,EAChBC,EAAe,EACXC,GAAK,EAAGA,GAAK,IAAKA,EACxB,IAAI,IAAIC,GAAK,EAAGA,GAAK,IAAKA,EAAE,CAC1B,IAAIC,EAAgC,GAAxBR,EAAEM,GAAML,EAAEM,GAAGnC,EAAIkB,OAE5Ba,GAAeD,EAAOI,EAAE,GAAGC,EAAE,GAAKnC,EAAIqC,OAAOD,GAC7CJ,GAAiBF,EAAOI,EAAE,GAAGC,EAAE,GAAKnC,EAAIqC,OAAOD,EAAM,GACrDH,GAAgBH,EAAOI,EAAE,GAAGC,EAAE,GAAKnC,EAAIqC,OAAOD,EAAM,GAGzD,MAAO,CAACE,SAASP,GAAcO,SAASN,GAAgBM,SAASL,IAGpDb,IApCG,SAACb,EAAIP,EAAK8B,GAC1B,IAAIS,EAAUhC,EAAGiC,YAAYxC,EAAIkB,MAAOlB,EAAImB,QAC5CoB,EAAQvB,aAER,IAAI,IAAIY,EAAI,EAAGA,EAAI5B,EAAIkB,MAAQ,IAAKU,EAChC,IAAI,IAAIC,EAAI,EAAGA,EAAI7B,EAAImB,OAAS,IAAKU,EAAE,CACnC,IAAIO,EAA0B,GAAnBR,EAAIC,EAAE7B,EAAIkB,OACjBuB,EAAad,EAAc3B,EAAK4B,EAAGC,EAAGC,GAE1CS,EAAQF,OAAOD,GAAOK,EAAW,GACjCF,EAAQF,OAAOD,EAAI,GAAKK,EAAW,GACnCF,EAAQF,OAAOD,EAAI,GAAKK,EAAW,GACnCF,EAAQF,OAAOD,EAAI,GAAK7B,EAAGmC,MAAM,GAKzC,OADAH,EAAQI,eACDJ,I","file":"component---src-pages-convolution-mask-js-d2771a9373507cdd95ed.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/fuego-15df1985b6d383a48079c4d3db3154d0.jpg\";","import \"bootstrap/dist/css/bootstrap.min.css\"\nimport React from \"react\"\nimport loadable from \"@loadable/component\"\n\nimport convolution from '../algorithms/convolution/convolution';\nimport {BoxBlurKernel, GaussianBlurKernel, SharpenKernel, EdgeDetectionKernel} from '../algorithms/convolution/kernels'\n\nimport fuego from \"../assets/fuego.jpg\";\n\nlet img, canvas;\nexport default (props) => {\n  const preload = (p5) => {\n    img = p5.loadImage(fuego);\n  }\n\n  const setup = (p5, canvasParentRef) => {       \n    canvas = p5.createCanvas(800, 500)\n    canvas.parent(canvasParentRef)    \n    p5.resizeCanvas(canvasParentRef.clientWidth, 500*2/*canvasParentRef.clientWidth*0.625*/, false);\n    p5.noLoop();\n  }\n\n  const draw = (p5) => {\n    p5.background(0)\n    img.loadPixels();\n    p5.image(img,0,0, p5.width/2, p5.height/2)\n    p5.image(convolution(p5, img, EdgeDetectionKernel),p5.width/2,0, p5.width/2, p5.height/2);\n    p5.image(convolution(p5, img, BoxBlurKernel),0,p5.height/2, p5.width/2, p5.height/2);\n    p5.image(convolution(p5, img, SharpenKernel),p5.width/2,p5.height/2, p5.width/2, p5.height/2);  \n  }\n\n\n\n\n  if (typeof window !== \"undefined\") {\n    const Sketch = loadable(() => import(\"react-p5\"))\n    return (\n      <div className=\"ml-5 mr-5 my-3\">\n        <h1>MASCARAS DE CONVOLUCIÓN</h1>\n        <hr className=\"my-3\"></hr>\n        <p className=\"mb-2\">En esta sección implementamos las mascaras de convolución para una imagen aplicando otros 3 tipos de kernels\n          la imagen #1 (esquina superior izquierda) es la imagen original, la imagen #2 (esquina superior derecha) es la imagen con el kernel de detección de bordes,\n          la imagen #3 (esquina inferior izquierda) es la imagen con un kernel BoxBlur, y la imagen #4 (esquina inferior derecha) es la imagen con el kernel Sharpen.\n        </p>\n        <Sketch setup={setup} draw={draw} preload={preload}/>\n      </div>\n    )\n  } else\n    return null\n}\n","const blur = 1.0 / 9.0;\nconst blur_gaussian = 1.0/16.0;\n\nexport const BoxBlurKernel = [[ blur, blur, blur ], [ blur, blur, blur ], [ blur, blur, blur ]];   \nexport const GaussianBlurKernel = [[1*blur_gaussian,2*blur_gaussian,1*blur_gaussian],[2*blur_gaussian,4*blur_gaussian,2*blur_gaussian],[1*blur_gaussian,2*blur_gaussian,1*blur_gaussian]];\nexport const SharpenKernel = [[0, -1, 0],[-1, 5, -1],[0,-1,0]];\nexport const EdgeDetectionKernel = [[-1, -1 , -1],[-1, 8, -1],[-1, -1, -1]];","const convolution = (p5, img, kernel) => {\n    let copyImg = p5.createImage(img.width, img.height);\n    copyImg.loadPixels();\n\n    for(var x = 1; x < img.width - 1; ++x){\n        for(var y = 1; y < img.height - 1; ++y){\n            let loc = (x + y*img.width) * 4;\n            let convol_rgb = kernelProduct(img, x, y, kernel);\n\n            copyImg.pixels[loc] = convol_rgb[0];\n            copyImg.pixels[loc+1] = convol_rgb[1];\n            copyImg.pixels[loc+2] = convol_rgb[2];\n            copyImg.pixels[loc+3] = p5.alpha(1);            \n        }        \n    }\n      \n    copyImg.updatePixels();\n    return copyImg;    \n}\n\nfunction kernelProduct(img, x, y, kernel){\n    var red_channel = 0.0;\n    var green_channel = 0.0;\n    var blue_channel = 0.0;\n    for(var i = -1; i <= 1; ++i){\n      for(var j = -1; j <= 1; ++j){\n        let loc = ((x+i) + (y+j)*img.width)*4;\n\n         red_channel += kernel[i+1][j+1] * img.pixels[loc];\n         green_channel += kernel[i+1][j+1] * img.pixels[loc + 1];\n         blue_channel += kernel[i+1][j+1] * img.pixels[loc + 2];\n      }\n    }\n    return [parseInt(red_channel), parseInt(green_channel), parseInt(blue_channel)];\n  }\n\n  export default convolution;"],"sourceRoot":""}